<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Formulário de Rastreamento - TechBits</title>
    <meta name="google-signin-client_id" content="83526333624-frc9b5k1qe5jdd2vif9cc8fesmbmb4ab.apps.googleusercontent.com">
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; background-color: #f9f9f9; }
        h1 { color: #333; }
        form { background: #fff; padding: 20px; border-radius: 8px; max-width: 400px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
        label { display: block; margin-top: 10px; }
        input[type="text"], input[type="url"] { width: 100%; padding: 8px; margin-top: 5px; border: 1px solid #ccc; border-radius: 4px; }
        button { margin-top: 15px; padding: 10px 15px; background-color: #005baa; color: white; border: none; border-radius: 4px; cursor: pointer; }
        button:hover { background-color: #003f7f; }
        #login { margin-bottom: 20px; }
    </style>
</head>
<body>
    <h1>Formulário de Rastreamento</h1>

    <div id="login">
        <div class="g-signin2" data-onsuccess="onSignIn"></div>
    </div>

    <form id="rastreamento-form" style="display:none;">
        <label for="entregador">Nome do Entregador:</label>
        <input type="text" id="entregador" name="entregador" required>

        <label for="link">Link de Rastreamento:</label>
        <input type="url" id="link" name="link" required>

        <button type="submit">Enviar</button>
    </form>

    <script>
        function onSignIn(googleUser) {
            document.getElementById("rastreamento-form").style.display = "block";
        }

        document.getElementById("rastreamento-form").addEventListener("submit", function(e) {
            e.preventDefault();
            const entregador = document.getElementById("entregador").value;
            const link = document.getElementById("link").value;

            const formData = new FormData();
            formData.append("entregador", entregador);
            formData.append("link", link);

            fetch("https://script.google.com/macros/s/1EZbjZdEfheSvVKMJO6VGNOqVM6ua1fjMe0uWnvNhMr8638Au8h96SZV9/exec", {
                method: "POST",
                body: formData
            })
            .then(response => response.text())
            .then(data => {
                alert("Enviado com sucesso!");
                document.getElementById("rastreamento-form").reset();
            })
            .catch(error => {
                alert("Erro ao enviar: " + error);
            });
        });
    </script>
</body>
</html>
